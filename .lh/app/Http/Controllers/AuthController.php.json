{
    "sourceFile": "app/Http/Controllers/AuthController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 32,
            "patches": [
                {
                    "date": 1698600246404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1698601530310,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,10 +23,11 @@\n \n     }\n \n     public function signuplater(){\n+        \n \n-    }\n+    }   \n     public function signup(Request $request){\n \n \n         $user = User::where('email', $request->email)->where('name', $request->name)->first();\n"
                },
                {
                    "date": 1698601538352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,10 +23,10 @@\n \n     }\n \n     public function signuplater(){\n+\n         \n-\n     }   \n     public function signup(Request $request){\n \n \n"
                },
                {
                    "date": 1698601549664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,8 @@\n     }\n \n     public function signuplater(){\n \n-        \n     }   \n     public function signup(Request $request){\n \n \n"
                },
                {
                    "date": 1698601591106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,8 +24,18 @@\n     }\n \n     public function signuplater(){\n \n+\n+        // $user = User::create([\n+        //     'name' => $request->name,\n+        //     'email' => $request->email,\n+        //     'password' => $request->password,\n+        //     'role' => 'user',\n+        // ]);\n+\n+        // backpack_auth()->save($user);\n+        // return redirect('/');\n     }   \n     public function signup(Request $request){\n \n \n"
                },
                {
                    "date": 1698601601327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,10 +23,10 @@\n \n     }\n \n     public function signuplater(){\n+        \n \n-\n         // $user = User::create([\n         //     'name' => $request->name,\n         //     'email' => $request->email,\n         //     'password' => $request->password,\n"
                },
                {
                    "date": 1698601671491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,60 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use App\\Models\\User;\n+use Illuminate\\Http\\Request;\n+use Illuminate\\Support\\Facades\\Auth;\n+\n+class AuthController extends Controller\n+{\n+\n+    public function login(Request $request){\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if($user){\n+            \n+            dd(backpack_user());\n+            return redirect('admin/dashboard');\n+        }else{\n+           return redirect('login');\n+        }\n+\n+    }\n+\n+    public function signuplater(){\n+        $temporaryName = 'temp_' . uniqid();\n+\n+        // $user = User::create([\n+        //     'name' => $request->name,\n+        //     'email' => $request->email,\n+        //     'password' => $request->password,\n+        //     'role' => 'user',\n+        // ]);\n+\n+        // backpack_auth()->save($user);\n+        // return redirect('/');\n+    }   \n+    public function signup(Request $request){\n+\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if(!$user){\n+            $user = User::create([\n+                'name' => $request->name,\n+                'email' => $request->email,\n+                'password' => $request->password,\n+                'role' => 'user',\n+            ]);\n+\n+            backpack_auth()->save($user);\n+            return redirect('/');\n+\n+        }else{\n+            return redirect('login');\n+        }\n+\n+    }\n+}\n"
                },
                {
                    "date": 1698601678631,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,10 @@\n \n     }\n \n     public function signuplater(){\n-        $temporaryName = 'temp_' . uniqid();\n+        echo $temporaryName = 'temp_' . uniqid();\n+        $temporaryPassword = Str::random(12);\n \n         // $user = User::create([\n         //     'name' => $request->name,\n         //     'email' => $request->email,\n@@ -57,64 +58,4 @@\n         }\n \n     }\n }\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use App\\Models\\User;\n-use Illuminate\\Http\\Request;\n-use Illuminate\\Support\\Facades\\Auth;\n-\n-class AuthController extends Controller\n-{\n-\n-    public function login(Request $request){\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if($user){\n-            \n-            dd(backpack_user());\n-            return redirect('admin/dashboard');\n-        }else{\n-           return redirect('login');\n-        }\n-\n-    }\n-\n-    public function signuplater(){\n-        \n-\n-        // $user = User::create([\n-        //     'name' => $request->name,\n-        //     'email' => $request->email,\n-        //     'password' => $request->password,\n-        //     'role' => 'user',\n-        // ]);\n-\n-        // backpack_auth()->save($user);\n-        // return redirect('/');\n-    }   \n-    public function signup(Request $request){\n-\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if(!$user){\n-            $user = User::create([\n-                'name' => $request->name,\n-                'email' => $request->email,\n-                'password' => $request->password,\n-                'role' => 'user',\n-            ]);\n-\n-            backpack_auth()->save($user);\n-            return redirect('/');\n-\n-        }else{\n-            return redirect('login');\n-        }\n-\n-    }\n-}\n"
                },
                {
                    "date": 1698601691519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n \n use App\\Models\\User;\n use Illuminate\\Http\\Request;\n use Illuminate\\Support\\Facades\\Auth;\n+use Str;\n \n class AuthController extends Controller\n {\n \n"
                },
                {
                    "date": 1698601698999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n     }\n \n     public function signuplater(){\n         echo $temporaryName = 'temp_' . uniqid();\n-        $temporaryPassword = Str::random(12);\n+        echo $temporaryPassword = Str::random(12);\n \n         // $user = User::create([\n         //     'name' => $request->name,\n         //     'email' => $request->email,\n"
                },
                {
                    "date": 1698601733689,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,10 @@\n \n     }\n \n     public function signuplater(){\n-        echo $temporaryName = 'temp_' . uniqid();\n+        echo $temporaryName = 'citylayer_' . uniqid();\n+        echo '<br>';\n         echo $temporaryPassword = Str::random(12);\n \n         // $user = User::create([\n         //     'name' => $request->name,\n"
                },
                {
                    "date": 1698601789117,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,62 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use App\\Models\\User;\n+use Illuminate\\Http\\Request;\n+use Illuminate\\Support\\Facades\\Auth;\n+use Str;\n+\n+class AuthController extends Controller\n+{\n+\n+    public function login(Request $request){\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if($user){\n+            \n+            dd(backpack_user());\n+            return redirect('admin/dashboard');\n+        }else{\n+           return redirect('login');\n+        }\n+\n+    }\n+\n+    public function signuplater(){\n+        $temporaryName = 'citylayer_' . uniqid();\n+        $temporaryPassword = Str::random(12);\n+\n+        User::create([\n+            'name' => $temporaryName,\n+            'email' => '',\n+            'password' => $temporaryPassword,\n+            'role' => 'user',\n+        ]);\n+\n+        backpack_auth()->save($user);\n+        return redirect('/');\n+    }   \n+    public function signup(Request $request){\n+\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if(!$user){\n+            $user = User::create([\n+                'name' => $request->name,\n+                'email' => $request->email,\n+                'password' => $request->password,\n+                'role' => 'user',\n+            ]);\n+\n+            backpack_auth()->save($user);\n+            return redirect('/');\n+\n+        }else{\n+            return redirect('login');\n+        }\n+\n+    }\n+}\n"
                },
                {
                    "date": 1698601806863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n     public function signuplater(){\n         $temporaryName = 'citylayer_' . uniqid();\n         $temporaryPassword = Str::random(12);\n \n-        User::create([\n+        $user=User::create([\n             'name' => $temporaryName,\n             'email' => '',\n             'password' => $temporaryPassword,\n             'role' => 'user',\n@@ -59,67 +59,4 @@\n         }\n \n     }\n }\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use App\\Models\\User;\n-use Illuminate\\Http\\Request;\n-use Illuminate\\Support\\Facades\\Auth;\n-use Str;\n-\n-class AuthController extends Controller\n-{\n-\n-    public function login(Request $request){\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if($user){\n-            \n-            dd(backpack_user());\n-            return redirect('admin/dashboard');\n-        }else{\n-           return redirect('login');\n-        }\n-\n-    }\n-\n-    public function signuplater(){\n-        echo $temporaryName = 'citylayer_' . uniqid();\n-        echo '<br>';\n-        echo $temporaryPassword = Str::random(12);\n-\n-        // $user = User::create([\n-        //     'name' => $request->name,\n-        //     'email' => $request->email,\n-        //     'password' => $request->password,\n-        //     'role' => 'user',\n-        // ]);\n-\n-        // backpack_auth()->save($user);\n-        // return redirect('/');\n-    }   \n-    public function signup(Request $request){\n-\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if(!$user){\n-            $user = User::create([\n-                'name' => $request->name,\n-                'email' => $request->email,\n-                'password' => $request->password,\n-                'role' => 'user',\n-            ]);\n-\n-            backpack_auth()->save($user);\n-            return redirect('/');\n-\n-        }else{\n-            return redirect('login');\n-        }\n-\n-    }\n-}\n"
                },
                {
                    "date": 1698601856695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,61 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use App\\Models\\User;\n+use Illuminate\\Http\\Request;\n+use Illuminate\\Support\\Facades\\Auth;\n+use Str;\n+\n+class AuthController extends Controller\n+{\n+\n+    public function login(Request $request){\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if($user){\n+            \n+            dd(backpack_user());\n+            return redirect('admin/dashboard');\n+        }else{\n+           return redirect('login');\n+        }\n+\n+    }\n+\n+    public function signuplater(){\n+        $temporaryName = 'citylayer_' . uniqid();\n+        $temporaryPassword = Str::random(12);\n+\n+        $user=User::create([\n+            'name' => $temporaryName,\n+            'email' => '',\n+            'password' => $temporaryPassword,\n+            'role' => 'user',\n+        ]);\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+    }   \n+    public function signup(Request $request){\n+\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if(!$user){\n+            $user = User::create([\n+                'name' => $request->name,\n+                'email' => $request->email,\n+                'password' => $request->password,\n+                'role' => 'user',\n+            ]);\n+\n+            backpack_auth()->save($user);\n+            return redirect('/');\n+\n+        }else{\n+            return redirect('login');\n+        }\n+\n+    }\n+}\n"
                },
                {
                    "date": 1698603027750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,76 +48,13 @@\n                 'email' => $request->email,\n                 'password' => $request->password,\n                 'role' => 'user',\n             ]);\n-\n-            backpack_auth()->save($user);\n+            backpack_auth()->login($user);\n             return redirect('/');\n \n         }else{\n             return redirect('login');\n         }\n \n     }\n }\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use App\\Models\\User;\n-use Illuminate\\Http\\Request;\n-use Illuminate\\Support\\Facades\\Auth;\n-use Str;\n-\n-class AuthController extends Controller\n-{\n-\n-    public function login(Request $request){\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if($user){\n-            \n-            dd(backpack_user());\n-            return redirect('admin/dashboard');\n-        }else{\n-           return redirect('login');\n-        }\n-\n-    }\n-\n-    public function signuplater(){\n-        $temporaryName = 'citylayer_' . uniqid();\n-        $temporaryPassword = Str::random(12);\n-\n-        $user=User::create([\n-            'name' => $temporaryName,\n-            'email' => '',\n-            'password' => $temporaryPassword,\n-            'role' => 'user',\n-        ]);\n-\n-        backpack_auth()->save($user);\n-        return redirect('/');\n-    }   \n-    public function signup(Request $request){\n-\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if(!$user){\n-            $user = User::create([\n-                'name' => $request->name,\n-                'email' => $request->email,\n-                'password' => $request->password,\n-                'role' => 'user',\n-            ]);\n-\n-            backpack_auth()->save($user);\n-            return redirect('/');\n-\n-        }else{\n-            return redirect('login');\n-        }\n-\n-    }\n-}\n"
                },
                {
                    "date": 1698603299889,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,61 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use App\\Models\\User;\n+use Illuminate\\Http\\Request;\n+use Illuminate\\Support\\Facades\\Auth;\n+use Str;\n+\n+class AuthController extends Controller\n+{\n+\n+    public function login(Request $request){\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if($user){\n+            \n+            dd(backpack_user());\n+            return redirect('admin/dashboard');\n+        }else{\n+           return redirect('login');\n+        }\n+\n+    }\n+\n+    public function signuplater(){\n+        $temporaryName = 'citylayer_' . uniqid();\n+        $temporaryPassword = Str::random(12);\n+\n+        $user=User::create([\n+            'name' => $temporaryName,\n+            'email' => '',\n+            'password' => $temporaryPassword,\n+            'role' => 'user',\n+        ]);\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+    }   \n+    public function signup(Request $request){\n+\n+\n+        dd($request->all();  \n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if(!$user){\n+            $user = User::create([\n+                'name' => $request->name,\n+                'email' => $request->email,\n+                'password' => $request->password,\n+                'role' => 'user',\n+            ]);\n+            backpack_auth()->login($user);\n+            return redirect('/');\n+\n+        }else{\n+            return redirect('login');\n+        }\n+\n+    }\n+}\n"
                },
                {
                    "date": 1698603315787,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n     }   \n     public function signup(Request $request){\n \n \n-        dd($request->all();  \n+        dd($request->all());  \n         $user = User::where('email', $request->email)->where('name', $request->name)->first();\n \n         if(!$user){\n             $user = User::create([\n@@ -58,64 +58,4 @@\n         }\n \n     }\n }\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use App\\Models\\User;\n-use Illuminate\\Http\\Request;\n-use Illuminate\\Support\\Facades\\Auth;\n-use Str;\n-\n-class AuthController extends Controller\n-{\n-\n-    public function login(Request $request){\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if($user){\n-            \n-            dd(backpack_user());\n-            return redirect('admin/dashboard');\n-        }else{\n-           return redirect('login');\n-        }\n-\n-    }\n-\n-    public function signuplater(){\n-        $temporaryName = 'citylayer_' . uniqid();\n-        $temporaryPassword = Str::random(12);\n-\n-        $user=User::create([\n-            'name' => $temporaryName,\n-            'email' => '',\n-            'password' => $temporaryPassword,\n-            'role' => 'user',\n-        ]);\n-        backpack_auth()->login($user);\n-        return redirect('/');\n-    }   \n-    public function signup(Request $request){\n-\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if(!$user){\n-            $user = User::create([\n-                'name' => $request->name,\n-                'email' => $request->email,\n-                'password' => $request->password,\n-                'role' => 'user',\n-            ]);\n-            backpack_auth()->login($user);\n-            return redirect('/');\n-\n-        }else{\n-            return redirect('login');\n-        }\n-\n-    }\n-}\n"
                },
                {
                    "date": 1698603465950,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,63 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use App\\Models\\User;\n+use Illuminate\\Http\\Request;\n+use Illuminate\\Support\\Facades\\Auth;\n+use Illuminate\\Support\\Facades\\Validator;\n+\n+use Str;\n+\n+class AuthController extends Controller\n+{\n+\n+    public function login(Request $request){\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if($user){\n+            \n+            dd(backpack_user());\n+            return redirect('admin/dashboard');\n+        }else{\n+           return redirect('login');\n+        }\n+\n+    }\n+\n+    public function signuplater(){\n+        $temporaryName = 'citylayer_' . uniqid();\n+        $temporaryPassword = Str::random(12);\n+\n+        $user=User::create([\n+            'name' => $temporaryName,\n+            'email' => '',\n+            'password' => $temporaryPassword,\n+            'role' => 'user',\n+        ]);\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+    }   \n+    public function signup(Request $request){\n+\n+\n+        dd($request->all());  \n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if(!$user){\n+            $user = User::create([\n+                'name' => $request->name,\n+                'email' => $request->email,\n+                'password' => $request->password,\n+                'role' => 'user',\n+            ]);\n+            backpack_auth()->login($user);\n+            return redirect('/');\n+\n+        }else{\n+            return redirect('login');\n+        }\n+\n+    }\n+}\n"
                },
                {
                    "date": 1698603479177,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,16 @@\n     }   \n     public function signup(Request $request){\n \n \n-        dd($request->all());  \n+        dd($request->all()); \n+        \n+        $validator = Validator::make($request->all(), [\n+            'email' => 'required|email|unique:users',\n+            'password' => 'required|confirmed',\n+        ]);\n+\n+\n         $user = User::where('email', $request->email)->where('name', $request->name)->first();\n \n         if(!$user){\n             $user = User::create([\n"
                },
                {
                    "date": 1698603484682,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,72 +48,14 @@\n             'email' => 'required|email|unique:users',\n             'password' => 'required|confirmed',\n         ]);\n \n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if(!$user){\n-            $user = User::create([\n-                'name' => $request->name,\n-                'email' => $request->email,\n-                'password' => $request->password,\n-                'role' => 'user',\n-            ]);\n-            backpack_auth()->login($user);\n-            return redirect('/');\n-\n-        }else{\n-            return redirect('login');\n+        if ($validator->fails()) {\n+            return redirect()->back()->withErrors($validator)->withInput();\n         }\n \n-    }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use App\\Models\\User;\n-use Illuminate\\Http\\Request;\n-use Illuminate\\Support\\Facades\\Auth;\n-use Str;\n-\n-class AuthController extends Controller\n-{\n-\n-    public function login(Request $request){\n-\n         $user = User::where('email', $request->email)->where('name', $request->name)->first();\n \n-        if($user){\n-            \n-            dd(backpack_user());\n-            return redirect('admin/dashboard');\n-        }else{\n-           return redirect('login');\n-        }\n-\n-    }\n-\n-    public function signuplater(){\n-        $temporaryName = 'citylayer_' . uniqid();\n-        $temporaryPassword = Str::random(12);\n-\n-        $user=User::create([\n-            'name' => $temporaryName,\n-            'email' => '',\n-            'password' => $temporaryPassword,\n-            'role' => 'user',\n-        ]);\n-        backpack_auth()->login($user);\n-        return redirect('/');\n-    }   \n-    public function signup(Request $request){\n-\n-\n-        dd($request->all());  \n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n         if(!$user){\n             $user = User::create([\n                 'name' => $request->name,\n                 'email' => $request->email,\n"
                },
                {
                    "date": 1698603494154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,10 +51,11 @@\n \n         if ($validator->fails()) {\n             return redirect()->back()->withErrors($validator)->withInput();\n         }\n+        $name = strstr($request->email, '@', true);\n \n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+        \n \n         if(!$user){\n             $user = User::create([\n                 'name' => $request->name,\n"
                },
                {
                    "date": 1698603508595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,14 @@\n             return redirect()->back()->withErrors($validator)->withInput();\n         }\n         $name = strstr($request->email, '@', true);\n \n-        \n+        $user = User::create([\n+            'name' => $name,\n+            'email' => $request->email,\n+            'password' => bcrypt($request->password),\n+            'role' => 'user',\n+        ]);\n \n         if(!$user){\n             $user = User::create([\n                 'name' => $request->name,\n"
                },
                {
                    "date": 1698603520411,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,20 +60,9 @@\n             'password' => bcrypt($request->password),\n             'role' => 'user',\n         ]);\n \n-        if(!$user){\n-            $user = User::create([\n-                'name' => $request->name,\n-                'email' => $request->email,\n-                'password' => $request->password,\n-                'role' => 'user',\n-            ]);\n-            backpack_auth()->login($user);\n-            return redirect('/');\n+        backpack_auth()->login($user);\n+        return redirect('/');\n \n-        }else{\n-            return redirect('login');\n-        }\n-\n     }\n }\n"
                },
                {
                    "date": 1698603536223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,10 +41,8 @@\n     }   \n     public function signup(Request $request){\n \n \n-        dd($request->all()); \n-        \n         $validator = Validator::make($request->all(), [\n             'email' => 'required|email|unique:users',\n             'password' => 'required|confirmed',\n         ]);\n"
                },
                {
                    "date": 1698603960506,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,73 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use App\\Models\\User;\n+use Illuminate\\Http\\Request;\n+use Illuminate\\Support\\Facades\\Auth;\n+use Illuminate\\Support\\Facades\\Validator;\n+\n+use Str;\n+\n+class AuthController extends Controller\n+{\n+\n+    public function login(Request $request){\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if($user){\n+            \n+            dd(backpack_user());\n+            return redirect('admin/dashboard');\n+        }else{\n+           return redirect('login');\n+        }\n+\n+    }\n+\n+    public function signuplater(){\n+        $temporaryName = 'citylayer_' . uniqid();\n+        $temporaryPassword = Str::random(12);\n+\n+        $user=User::create([\n+            'name' => $temporaryName,\n+            'email' => '',\n+            'password' => $temporaryPassword,\n+            'role' => 'user',\n+        ]);\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+    }   \n+    public function signup(Request $request){\n+\n+        $customMessages = [\n+            'email.required' => 'Please provide an email address.',\n+            'email.email' => 'The email address is not valid.',\n+            'email.unique' => 'This email address is already in use.',\n+            'password.required' => 'Please enter a password.',\n+            'password.confirmed' => 'The password confirmation does not match.',\n+        ];\n+\n+        $validator = Validator::make($request->all(), [\n+            'email' => 'required|email|unique:users',\n+            'password' => 'required|confirmed',\n+        ]);\n+\n+        if ($validator->fails()) {\n+            return redirect()->back()->withErrors($validator)->withInput();\n+        }\n+        $name = strstr($request->email, '@', true);\n+\n+        $user = User::create([\n+            'name' => $name,\n+            'email' => $request->email,\n+            'password' => bcrypt($request->password),\n+            'role' => 'user',\n+        ]);\n+\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+\n+    }\n+}\n"
                },
                {
                    "date": 1698603966019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,9 +51,9 @@\n \n         $validator = Validator::make($request->all(), [\n             'email' => 'required|email|unique:users',\n             'password' => 'required|confirmed',\n-        ]);\n+        ],$customMessages);\n \n         if ($validator->fails()) {\n             return redirect()->back()->withErrors($validator)->withInput();\n         }\n@@ -70,70 +70,4 @@\n         return redirect('/');\n \n     }\n }\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use App\\Models\\User;\n-use Illuminate\\Http\\Request;\n-use Illuminate\\Support\\Facades\\Auth;\n-use Illuminate\\Support\\Facades\\Validator;\n-\n-use Str;\n-\n-class AuthController extends Controller\n-{\n-\n-    public function login(Request $request){\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if($user){\n-            \n-            dd(backpack_user());\n-            return redirect('admin/dashboard');\n-        }else{\n-           return redirect('login');\n-        }\n-\n-    }\n-\n-    public function signuplater(){\n-        $temporaryName = 'citylayer_' . uniqid();\n-        $temporaryPassword = Str::random(12);\n-\n-        $user=User::create([\n-            'name' => $temporaryName,\n-            'email' => '',\n-            'password' => $temporaryPassword,\n-            'role' => 'user',\n-        ]);\n-        backpack_auth()->login($user);\n-        return redirect('/');\n-    }   \n-    public function signup(Request $request){\n-\n-\n-        $validator = Validator::make($request->all(), [\n-            'email' => 'required|email|unique:users',\n-            'password' => 'required|confirmed',\n-        ]);\n-\n-        if ($validator->fails()) {\n-            return redirect()->back()->withErrors($validator)->withInput();\n-        }\n-        $name = strstr($request->email, '@', true);\n-\n-        $user = User::create([\n-            'name' => $name,\n-            'email' => $request->email,\n-            'password' => bcrypt($request->password),\n-            'role' => 'user',\n-        ]);\n-\n-        backpack_auth()->login($user);\n-        return redirect('/');\n-\n-    }\n-}\n"
                },
                {
                    "date": 1698604274839,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,5 +69,37 @@\n         backpack_auth()->login($user);\n         return redirect('/');\n \n     }\n+    \n+    public function signupUsername(Request $request){\n+\n+        $customMessages = [\n+            'email.required' => 'Please provide an email address.',\n+            'email.email' => 'The email address is not valid.',\n+            'email.unique' => 'This email address is already in use.',\n+            'password.required' => 'Please enter a password.',\n+            'password.confirmed' => 'The password confirmation does not match.',\n+        ];\n+\n+        $validator = Validator::make($request->all(), [\n+            'email' => 'required|email|unique:users',\n+            'password' => 'required|confirmed',\n+        ],$customMessages);\n+\n+        if ($validator->fails()) {\n+            return redirect()->back()->withErrors($validator)->withInput();\n+        }\n+        $name = strstr($request->email, '@', true);\n+\n+        $user = User::create([\n+            'name' => $name,\n+            'email' => $request->email,\n+            'password' => bcrypt($request->password),\n+            'role' => 'user',\n+        ]);\n+\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+\n+    }\n }\n"
                },
                {
                    "date": 1698604324598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,105 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use App\\Models\\User;\n+use Illuminate\\Http\\Request;\n+use Illuminate\\Support\\Facades\\Auth;\n+use Illuminate\\Support\\Facades\\Validator;\n+\n+use Str;\n+\n+class AuthController extends Controller\n+{\n+\n+    public function login(Request $request){\n+\n+        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n+\n+        if($user){\n+            \n+            dd(backpack_user());\n+            return redirect('admin/dashboard');\n+        }else{\n+           return redirect('login');\n+        }\n+\n+    }\n+\n+    public function signuplater(){\n+        $temporaryName = 'citylayer_' . uniqid();\n+        $temporaryPassword = Str::random(12);\n+\n+        $user=User::create([\n+            'name' => $temporaryName,\n+            'email' => '',\n+            'password' => $temporaryPassword,\n+            'role' => 'user',\n+        ]);\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+    }   \n+    public function signup(Request $request){\n+\n+        $customMessages = [\n+            'email.required' => 'Please provide an email address.',\n+            'email.email' => 'The email address is not valid.',\n+            'email.unique' => 'This email address is already in use.',\n+            'password.required' => 'Please enter a password.',\n+            'password.confirmed' => 'The password confirmation does not match.',\n+        ];\n+\n+        $validator = Validator::make($request->all(), [\n+            'email' => 'required|email|unique:users',\n+            'password' => 'required|confirmed',\n+        ],$customMessages);\n+\n+        if ($validator->fails()) {\n+            return redirect()->back()->withErrors($validator)->withInput();\n+        }\n+        $name = strstr($request->email, '@', true);\n+\n+        $user = User::create([\n+            'name' => $name,\n+            'email' => $request->email,\n+            'password' => bcrypt($request->password),\n+            'role' => 'user',\n+        ]);\n+\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+\n+    }\n+    \n+    public function signupUsername(Request $request){\n+\n+        $customMessages = [\n+            'name.required' => 'Please provide an username.',\n+            'name.email' => 'The username is not valid.',\n+            'name.unique' => 'This username is already in use.',\n+            'password.required' => 'Please enter a password.',\n+            'password.confirmed' => 'The password confirmation does not match.',\n+        ];\n+\n+        $validator = Validator::make($request->all(), [\n+            'name' => 'required|name|unique:users',\n+            'password' => 'required|confirmed',\n+        ],$customMessages);\n+\n+        if ($validator->fails()) {\n+            return redirect()->back()->withErrors($validator)->withInput();\n+        }\n+        $name = strstr($request->email, '@', true);\n+\n+        $user = User::create([\n+            'name' => $name,\n+            'email' => $request->email,\n+            'password' => bcrypt($request->password),\n+            'role' => 'user',\n+        ]);\n+\n+        backpack_auth()->login($user);\n+        return redirect('/');\n+\n+    }\n+}\n"
                },
                {
                    "date": 1698604347114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,13 +88,11 @@\n \n         if ($validator->fails()) {\n             return redirect()->back()->withErrors($validator)->withInput();\n         }\n-        $name = strstr($request->email, '@', true);\n-\n+        \n         $user = User::create([\n-            'name' => $name,\n-            'email' => $request->email,\n+            'name' => $request->name,\n             'password' => bcrypt($request->password),\n             'role' => 'user',\n         ]);\n \n@@ -102,109 +100,4 @@\n         return redirect('/');\n \n     }\n }\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use App\\Models\\User;\n-use Illuminate\\Http\\Request;\n-use Illuminate\\Support\\Facades\\Auth;\n-use Illuminate\\Support\\Facades\\Validator;\n-\n-use Str;\n-\n-class AuthController extends Controller\n-{\n-\n-    public function login(Request $request){\n-\n-        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n-\n-        if($user){\n-            \n-            dd(backpack_user());\n-            return redirect('admin/dashboard');\n-        }else{\n-           return redirect('login');\n-        }\n-\n-    }\n-\n-    public function signuplater(){\n-        $temporaryName = 'citylayer_' . uniqid();\n-        $temporaryPassword = Str::random(12);\n-\n-        $user=User::create([\n-            'name' => $temporaryName,\n-            'email' => '',\n-            'password' => $temporaryPassword,\n-            'role' => 'user',\n-        ]);\n-        backpack_auth()->login($user);\n-        return redirect('/');\n-    }   \n-    public function signup(Request $request){\n-\n-        $customMessages = [\n-            'email.required' => 'Please provide an email address.',\n-            'email.email' => 'The email address is not valid.',\n-            'email.unique' => 'This email address is already in use.',\n-            'password.required' => 'Please enter a password.',\n-            'password.confirmed' => 'The password confirmation does not match.',\n-        ];\n-\n-        $validator = Validator::make($request->all(), [\n-            'email' => 'required|email|unique:users',\n-            'password' => 'required|confirmed',\n-        ],$customMessages);\n-\n-        if ($validator->fails()) {\n-            return redirect()->back()->withErrors($validator)->withInput();\n-        }\n-        $name = strstr($request->email, '@', true);\n-\n-        $user = User::create([\n-            'name' => $name,\n-            'email' => $request->email,\n-            'password' => bcrypt($request->password),\n-            'role' => 'user',\n-        ]);\n-\n-        backpack_auth()->login($user);\n-        return redirect('/');\n-\n-    }\n-    \n-    public function signupUsername(Request $request){\n-\n-        $customMessages = [\n-            'email.required' => 'Please provide an email address.',\n-            'email.email' => 'The email address is not valid.',\n-            'email.unique' => 'This email address is already in use.',\n-            'password.required' => 'Please enter a password.',\n-            'password.confirmed' => 'The password confirmation does not match.',\n-        ];\n-\n-        $validator = Validator::make($request->all(), [\n-            'email' => 'required|email|unique:users',\n-            'password' => 'required|confirmed',\n-        ],$customMessages);\n-\n-        if ($validator->fails()) {\n-            return redirect()->back()->withErrors($validator)->withInput();\n-        }\n-        $name = strstr($request->email, '@', true);\n-\n-        $user = User::create([\n-            'name' => $name,\n-            'email' => $request->email,\n-            'password' => bcrypt($request->password),\n-            'role' => 'user',\n-        ]);\n-\n-        backpack_auth()->login($user);\n-        return redirect('/');\n-\n-    }\n-}\n"
                },
                {
                    "date": 1698604393217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,8 @@\n     public function signupUsername(Request $request){\n \n         $customMessages = [\n             'name.required' => 'Please provide an username.',\n-            'name.email' => 'The username is not valid.',\n             'name.unique' => 'This username is already in use.',\n             'password.required' => 'Please enter a password.',\n             'password.confirmed' => 'The password confirmation does not match.',\n         ];\n"
                },
                {
                    "date": 1698604527466,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,8 +72,13 @@\n     }\n     \n     public function signupUsername(Request $request){\n \n+\n+        Validator::extend('valid_name', function ($attribute, $value, $parameters, $validator) {\n+            return preg_match('/^[A-Za-z\\s]+$/', $value);\n+        });\n+\n         $customMessages = [\n             'name.required' => 'Please provide an username.',\n             'name.unique' => 'This username is already in use.',\n             'password.required' => 'Please enter a password.',\n"
                },
                {
                    "date": 1698604548830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,20 +72,19 @@\n     }\n     \n     public function signupUsername(Request $request){\n \n-\n-        Validator::extend('valid_name', function ($attribute, $value, $parameters, $validator) {\n-            return preg_match('/^[A-Za-z\\s]+$/', $value);\n-        });\n-\n         $customMessages = [\n             'name.required' => 'Please provide an username.',\n             'name.unique' => 'This username is already in use.',\n             'password.required' => 'Please enter a password.',\n             'password.confirmed' => 'The password confirmation does not match.',\n         ];\n \n+        Validator::extend('valid_name', function ($attribute, $value, $parameters, $validator) {\n+            return preg_match('/^[A-Za-z\\s]+$/', $value);\n+        });\n+\n         $validator = Validator::make($request->all(), [\n             'name' => 'required|name|unique:users',\n             'password' => 'required|confirmed',\n         ],$customMessages);\n"
                },
                {
                    "date": 1698604555033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n             'password.required' => 'Please enter a password.',\n             'password.confirmed' => 'The password confirmation does not match.',\n         ];\n \n-        Validator::extend('valid_name', function ($attribute, $value, $parameters, $validator) {\n+        Validator::extend('name', function ($attribute, $value, $parameters, $validator) {\n             return preg_match('/^[A-Za-z\\s]+$/', $value);\n         });\n \n         $validator = Validator::make($request->all(), [\n"
                }
            ],
            "date": 1698600246404,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Models\\User;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Auth;\n\nclass AuthController extends Controller\n{\n\n    public function login(Request $request){\n\n        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n\n        if($user){\n            \n            dd(backpack_user());\n            return redirect('admin/dashboard');\n        }else{\n           return redirect('login');\n        }\n\n    }\n\n    public function signuplater(){\n\n    }\n    public function signup(Request $request){\n\n\n        $user = User::where('email', $request->email)->where('name', $request->name)->first();\n\n        if(!$user){\n            $user = User::create([\n                'name' => $request->name,\n                'email' => $request->email,\n                'password' => $request->password,\n                'role' => 'user',\n            ]);\n\n            backpack_auth()->save($user);\n            return redirect('/');\n\n        }else{\n            return redirect('login');\n        }\n\n    }\n}\n"
        }
    ]
}