{
    "sourceFile": "app/Models/User.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 16,
            "patches": [
                {
                    "date": 1696847955291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1696847981131,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,61 @@\n+<?php\n+\n+namespace App\\Models;\n+\n+//  use Illuminate\\Contracts\\Auth\\MustVerifyEmail;\n+use Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\n+use Illuminate\\Foundation\\Auth\\User as Authenticatable;\n+use Spatie\\Permission\\Traits\\HasRoles;\n+use Illuminate\\Notifications\\Notifiable;\n+use Laravel\\Sanctum\\HasApiTokens;\n+\n+\n+class User extends Authenticatable\n+{\n+\n+    use \\Backpack\\CRUD\\app\\Models\\Traits\\CrudTrait;\n+    use HasApiTokens, HasFactory, Notifiable;\n+    \n+    /**\n+     * The attributes that are mass assignable.\n+     *\n+     * @var array<int, string>\n+     */\n+    protected $fillable = [\n+        'name',\n+        'email',\n+        'password',\n+        'role',\n+        'score'\n+    ];\n+\n+    /**\n+     * The attributes that should be hidden for serialization.\n+     *\n+     * @var array<int, string>\n+     */\n+    protected $hidden = [\n+        'password',\n+        'remember_token',\n+    ];\n+\n+    /**\n+     * The attributes that should be cast.\n+     *\n+     * @var array<string, string>\n+     */\n+    protected $casts = [\n+        'email_verified_at' => 'datetime',\n+    ];\n+\n+    public function hasPermissionTo()\n+    {\n+        return 'notifications admin';\n+    }\n+    public function placeDetails()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id');\n+    }\n+\n+\n+}\n"
                },
                {
                    "date": 1696854648766,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,67 +56,11 @@\n     {\n         return $this->hasMany(PlaceDetails::class, 'user_id');\n     }\n \n-\n-}\n-<?php\n-\n-namespace App\\Models;\n-\n-//  use Illuminate\\Contracts\\Auth\\MustVerifyEmail;\n-use Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\n-use Illuminate\\Foundation\\Auth\\User as Authenticatable;\n-use Spatie\\Permission\\Traits\\HasRoles;\n-use Illuminate\\Notifications\\Notifiable;\n-use Laravel\\Sanctum\\HasApiTokens;\n-\n-\n-class User extends Authenticatable\n-{\n-\n-    use \\Backpack\\CRUD\\app\\Models\\Traits\\CrudTrait;\n-    use HasApiTokens, HasFactory, Notifiable;\n-    \n-    /**\n-     * The attributes that are mass assignable.\n-     *\n-     * @var array<int, string>\n-     */\n-    protected $fillable = [\n-        'name',\n-        'email',\n-        'password',\n-        'role',\n-        'score'\n-    ];\n-\n-    /**\n-     * The attributes that should be hidden for serialization.\n-     *\n-     * @var array<int, string>\n-     */\n-    protected $hidden = [\n-        'password',\n-        'remember_token',\n-    ];\n-\n-    /**\n-     * The attributes that should be cast.\n-     *\n-     * @var array<string, string>\n-     */\n-    protected $casts = [\n-        'email_verified_at' => 'datetime',\n-    ];\n-\n-    public function hasPermissionTo()\n+    public function places()\n     {\n-        return 'notifications admin';\n+        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n     }\n-    public function placeDetails()\n-    {\n-        return $this->hasMany(PlaceDetail::class, 'user_id');\n-    }\n \n \n }\n"
                },
                {
                    "date": 1696854658220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,11 +56,7 @@\n     {\n         return $this->hasMany(PlaceDetails::class, 'user_id');\n     }\n \n-    public function places()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n-    }\n \n \n }\n"
                },
                {
                    "date": 1696854811708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,7 +56,12 @@\n     {\n         return $this->hasMany(PlaceDetails::class, 'user_id');\n     }\n \n+    public function places()\n+{\n+    return $this->hasMany(PlaceDetail::class, 'user_id')->whereNotNull('place_id');\n+}\n \n \n+\n }\n"
                },
                {
                    "date": 1696854829298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,11 +57,16 @@\n         return $this->hasMany(PlaceDetails::class, 'user_id');\n     }\n \n     public function places()\n-{\n-    return $this->hasMany(PlaceDetail::class, 'user_id')->whereNotNull('place_id');\n-}\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n+    }\n+    public function observations()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('observation_id');\n+    }\n \n \n \n+\n }\n"
                },
                {
                    "date": 1697182943503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,8 +65,14 @@\n     {\n         return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('observation_id');\n     }\n \n+    public function incrementScore()\n+    {\n+        $this->score = $this->score + 1;\n+        $this->save();\n+    }\n \n \n \n+\n }\n"
                },
                {
                    "date": 1697182969895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,11 +65,11 @@\n     {\n         return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('observation_id');\n     }\n \n-    public function incrementScore()\n+    public function incrementScore($number)\n     {\n-        $this->score = $this->score + 1;\n+        $this->score = $this->score + $number;\n         $this->save();\n     }\n \n \n"
                },
                {
                    "date": 1698523375608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,83 @@\n+<?php\n+\n+namespace App\\Models;\n+\n+//  use Illuminate\\Contracts\\Auth\\MustVerifyEmail;\n+use Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\n+use Illuminate\\Foundation\\Auth\\User as Authenticatable;\n+use Spatie\\Permission\\Traits\\HasRoles;\n+use Illuminate\\Notifications\\Notifiable;\n+use Laravel\\Sanctum\\HasApiTokens;\n+\n+\n+class User extends Authenticatable\n+{\n+\n+    use \\Backpack\\CRUD\\app\\Models\\Traits\\CrudTrait;\n+    use HasApiTokens, HasFactory, Notifiable;\n+    \n+    /**\n+     * The attributes that are mass assignable.\n+     *\n+     * @var array<int, string>\n+     */\n+    protected $fillable = [\n+        'name',\n+        'email',\n+        'password',\n+        'role',\n+        'score'\n+    ];\n+\n+    /**\n+     * The attributes that should be hidden for serialization.\n+     *\n+     * @var array<int, string>\n+     */\n+    protected $hidden = [\n+        'password',\n+        'remember_token',\n+    ];\n+\n+    /**\n+     * The attributes that should be cast.\n+     *\n+     * @var array<string, string>\n+     */\n+    protected $casts = [\n+        'email_verified_at' => 'datetime',\n+    ];\n+\n+    public function hasPermissionTo()\n+    {\n+        return 'notifications admin';\n+    }\n+    public function placeDetails()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id');\n+    }\n+\n+    public function places()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n+    }\n+    public function observations()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('observation_id');\n+    }\n+\n+    public function incrementScore($number)\n+    {\n+        $this->score = $this->score + $number;\n+        $this->save();\n+    }\n+\n+\n+    public function infosperso()\n+    {\n+        return $this->hasOne(Infosperso::class);\n+    }\n+\n+\n+\n+}\n"
                },
                {
                    "date": 1698574884372,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,85 +77,12 @@\n     {\n         return $this->hasOne(Infosperso::class);\n     }\n \n-\n-\n-}\n-<?php\n-\n-namespace App\\Models;\n-\n-//  use Illuminate\\Contracts\\Auth\\MustVerifyEmail;\n-use Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\n-use Illuminate\\Foundation\\Auth\\User as Authenticatable;\n-use Spatie\\Permission\\Traits\\HasRoles;\n-use Illuminate\\Notifications\\Notifiable;\n-use Laravel\\Sanctum\\HasApiTokens;\n-\n-\n-class User extends Authenticatable\n-{\n-\n-    use \\Backpack\\CRUD\\app\\Models\\Traits\\CrudTrait;\n-    use HasApiTokens, HasFactory, Notifiable;\n-    \n-    /**\n-     * The attributes that are mass assignable.\n-     *\n-     * @var array<int, string>\n-     */\n-    protected $fillable = [\n-        'name',\n-        'email',\n-        'password',\n-        'role',\n-        'score'\n-    ];\n-\n-    /**\n-     * The attributes that should be hidden for serialization.\n-     *\n-     * @var array<int, string>\n-     */\n-    protected $hidden = [\n-        'password',\n-        'remember_token',\n-    ];\n-\n-    /**\n-     * The attributes that should be cast.\n-     *\n-     * @var array<string, string>\n-     */\n-    protected $casts = [\n-        'email_verified_at' => 'datetime',\n-    ];\n-\n-    public function hasPermissionTo()\n+    public function likedPlaces()\n     {\n-        return 'notifications admin';\n+        return $this->hasMany(PlaceLike::class, 'user_id', 'id');\n     }\n-    public function placeDetails()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id');\n-    }\n \n-    public function places()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n-    }\n-    public function observations()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('observation_id');\n-    }\n \n-    public function incrementScore($number)\n-    {\n-        $this->score = $this->score + $number;\n-        $this->save();\n-    }\n \n-\n-\n-\n }\n"
                },
                {
                    "date": 1698587322042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,8 +81,12 @@\n     public function likedPlaces()\n     {\n         return $this->hasMany(PlaceLike::class, 'user_id', 'id');\n     }\n+    public function comments()\n+    {\n+        return $this->hasMany(PlaceComment::class, 'user_id', 'id');\n+    }\n \n \n \n }\n"
                },
                {
                    "date": 1698617723868,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,16 +56,9 @@\n     {\n         return $this->hasMany(PlaceDetails::class, 'user_id');\n     }\n \n-    public function places()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n-    }\n-    public function observations()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('observation_id');\n-    }\n+   \n \n     public function incrementScore($number)\n     {\n         $this->score = $this->score + $number;\n"
                },
                {
                    "date": 1698619096777,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,16 @@\n     {\n         return $this->hasMany(PlaceDetails::class, 'user_id');\n     }\n \n-   \n+    public function places()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n+    }\n+    public function observations()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('observation_id');\n+    }\n \n     public function incrementScore($number)\n     {\n         $this->score = $this->score + $number;\n"
                },
                {
                    "date": 1698619113114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+<?php\n+\n+namespace App\\Models;\n+\n+//  use Illuminate\\Contracts\\Auth\\MustVerifyEmail;\n+use Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\n+use Illuminate\\Foundation\\Auth\\User as Authenticatable;\n+use Spatie\\Permission\\Traits\\HasRoles;\n+use Illuminate\\Notifications\\Notifiable;\n+use Laravel\\Sanctum\\HasApiTokens;\n+\n+\n+class User extends Authenticatable\n+{\n+\n+    use \\Backpack\\CRUD\\app\\Models\\Traits\\CrudTrait;\n+    use HasApiTokens, HasFactory, Notifiable;\n+    \n+    /**\n+     * The attributes that are mass assignable.\n+     *\n+     * @var array<int, string>\n+     */\n+    protected $fillable = [\n+        'name',\n+        'email',\n+        'password',\n+        'role',\n+        'score'\n+    ];\n+\n+    /**\n+     * The attributes that should be hidden for serialization.\n+     *\n+     * @var array<int, string>\n+     */\n+    protected $hidden = [\n+        'password',\n+        'remember_token',\n+    ];\n+\n+    /**\n+     * The attributes that should be cast.\n+     *\n+     * @var array<string, string>\n+     */\n+    protected $casts = [\n+        'email_verified_at' => 'datetime',\n+    ];\n+\n+    public function hasPermissionTo()\n+    {\n+        return 'notifications admin';\n+    }\n+    public function placeDetails()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id');\n+    }\n+\n+    public function places()\n+    {\n+        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n+    }\n+    public function observations()\n+    {\n+        return $this->hasMany(Observation::class, 'user_id')->whereNotNull('observation_id');\n+    }\n+\n+    public function incrementScore($number)\n+    {\n+        $this->score = $this->score + $number;\n+        $this->save();\n+    }\n+\n+\n+    public function infosperso()\n+    {\n+        return $this->hasOne(Infosperso::class);\n+    }\n+\n+    public function likedPlaces()\n+    {\n+        return $this->hasMany(PlaceLike::class, 'user_id', 'id');\n+    }\n+    public function comments()\n+    {\n+        return $this->hasMany(PlaceComment::class, 'user_id', 'id');\n+    }\n+\n+\n+\n+}\n"
                },
                {
                    "date": 1698619137229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,13 +58,13 @@\n     }\n \n     public function places()\n     {\n-        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n+        return $this->hasMany(Place::class, 'user_id');\n     }\n     public function observations()\n     {\n-        return $this->hasMany(Observation::class, 'user_id')->whereNotNull('observation_id');\n+        return $this->hasMany(Observation::class, 'user_id');\n     }\n \n     public function incrementScore($number)\n     {\n@@ -89,96 +89,4 @@\n \n \n \n }\n-<?php\n-\n-namespace App\\Models;\n-\n-//  use Illuminate\\Contracts\\Auth\\MustVerifyEmail;\n-use Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\n-use Illuminate\\Foundation\\Auth\\User as Authenticatable;\n-use Spatie\\Permission\\Traits\\HasRoles;\n-use Illuminate\\Notifications\\Notifiable;\n-use Laravel\\Sanctum\\HasApiTokens;\n-\n-\n-class User extends Authenticatable\n-{\n-\n-    use \\Backpack\\CRUD\\app\\Models\\Traits\\CrudTrait;\n-    use HasApiTokens, HasFactory, Notifiable;\n-    \n-    /**\n-     * The attributes that are mass assignable.\n-     *\n-     * @var array<int, string>\n-     */\n-    protected $fillable = [\n-        'name',\n-        'email',\n-        'password',\n-        'role',\n-        'score'\n-    ];\n-\n-    /**\n-     * The attributes that should be hidden for serialization.\n-     *\n-     * @var array<int, string>\n-     */\n-    protected $hidden = [\n-        'password',\n-        'remember_token',\n-    ];\n-\n-    /**\n-     * The attributes that should be cast.\n-     *\n-     * @var array<string, string>\n-     */\n-    protected $casts = [\n-        'email_verified_at' => 'datetime',\n-    ];\n-\n-    public function hasPermissionTo()\n-    {\n-        return 'notifications admin';\n-    }\n-    public function placeDetails()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id');\n-    }\n-\n-    public function places()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('place_id');\n-    }\n-    public function observations()\n-    {\n-        return $this->hasMany(PlaceDetails::class, 'user_id')->whereNotNull('observation_id');\n-    }\n-\n-    public function incrementScore($number)\n-    {\n-        $this->score = $this->score + $number;\n-        $this->save();\n-    }\n-\n-\n-    public function infosperso()\n-    {\n-        return $this->hasOne(Infosperso::class);\n-    }\n-\n-    public function likedPlaces()\n-    {\n-        return $this->hasMany(PlaceLike::class, 'user_id', 'id');\n-    }\n-    public function comments()\n-    {\n-        return $this->hasMany(PlaceComment::class, 'user_id', 'id');\n-    }\n-\n-\n-\n-}\n"
                },
                {
                    "date": 1698620271289,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,8 +65,17 @@\n     {\n         return $this->hasMany(Observation::class, 'user_id');\n     }\n \n+\n+    public function observationImages() {\n+        return $this->hasManyThrough(ObservationImage::class, PlaceDetail::class);\n+    }\n+    \n+    public function placeImages() {\n+        return $this->hasManyThrough(PlaceImage::class, PlaceDetail::class);\n+    }\n+\n     public function incrementScore($number)\n     {\n         $this->score = $this->score + $number;\n         $this->save();\n"
                },
                {
                    "date": 1698620291040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,13 +67,13 @@\n     }\n \n \n     public function observationImages() {\n-        return $this->hasManyThrough(ObservationImage::class, PlaceDetail::class);\n+        return $this->hasManyThrough(ObservationImage::class, PlaceDetails::class);\n     }\n     \n     public function placeImages() {\n-        return $this->hasManyThrough(PlaceImage::class, PlaceDetail::class);\n+        return $this->hasManyThrough(PlaceImage::class, PlaceDetails::class);\n     }\n \n     public function incrementScore($number)\n     {\n"
                }
            ],
            "date": 1696847955290,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Models;\n\n//  use Illuminate\\Contracts\\Auth\\MustVerifyEmail;\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\nuse Spatie\\Permission\\Traits\\HasRoles;\nuse Illuminate\\Notifications\\Notifiable;\nuse Laravel\\Sanctum\\HasApiTokens;\n\n\nclass User extends Authenticatable\n{\n\n    use \\Backpack\\CRUD\\app\\Models\\Traits\\CrudTrait;\n    use HasApiTokens, HasFactory, Notifiable;\n    \n    /**\n     * The attributes that are mass assignable.\n     *\n     * @var array<int, string>\n     */\n    protected $fillable = [\n        'name',\n        'email',\n        'password',\n        'role',\n        'score'\n    ];\n\n    /**\n     * The attributes that should be hidden for serialization.\n     *\n     * @var array<int, string>\n     */\n    protected $hidden = [\n        'password',\n        'remember_token',\n    ];\n\n    /**\n     * The attributes that should be cast.\n     *\n     * @var array<string, string>\n     */\n    protected $casts = [\n        'email_verified_at' => 'datetime',\n    ];\n\n    public function hasPermissionTo()\n    {\n        return 'notifications admin';\n    }\n    public function placeDetails()\n    {\n        return $this->hasMany(PlaceDetail::class, 'user_id');\n    }\n\n\n}\n"
        }
    ]
}